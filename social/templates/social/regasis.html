{% extends 'social/layout.html' %}
{% load humanize %}
{% block content %}

<link href='https://fonts.googleapis.com/css?family=Cabin+Condensed:700' rel='stylesheet' type='text/css'>
<!-- <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    width="100%" height="240px" xml:space="preserve">
    <defs>
        <pattern id="water" width=".25" height="2.1" patternContentUnits="objectBoundingBox">
            <path fill="#000"
                d="M0.25,1H0c0,0,0-0.659,0-0.916c0.083-0.303,0.158,0.334,0.25,0C0.25,0.327,0.25,1,0.25,1z" />
        </pattern>

        <text id="text" transform="translate(2,116)" font-family="'Cabin Condensed'" font-size="161.047">CARDEX</text>

        <mask id="text-mask">
            <use x="0" y="0" xlink:href="#text" opacity="1" fill="#ffffff" />
        </mask>

        <g id="eff">
            <use x="0" y="0" xlink:href="#text" fill="#a2a3a5" />

            <rect class="water-fill" mask="url(#text-mask)" fill="url(#water)" x="-300" y="50" width="1200" height="120"
                opacity="0.5">
                <animate attributeType="xml" attributeName="x" from="-300" to="0" repeatCount="indefinite" dur="2s" />
            </rect>
            <rect class="water-fill" mask="url(#text-mask)" fill="url(#water)" y="45" width="1600" height="120"
                opacity="0.5">
                <animate attributeType="xml" attributeName="x" from="-400" to="0" repeatCount="indefinite" dur="3s" />
            </rect>

            <rect class="water-fill" mask="url(#text-mask)" fill="url(#water)" y="55" width="800" height="120"
                opacity="0.5">
                <animate attributeType="xml" attributeName="x" from="-200" to="0" repeatCount="indefinite" dur="1.4s" />
            </rect>
            <rect class="water-fill" mask="url(#text-mask)" fill="url(#water)" y="55" width="2000" height="120"
                opacity="0.5">
                <animate attributeType="xml" attributeName="x" from="-500" to="0" repeatCount="indefinite" dur="2.8s" />
            </rect>
        </g>
    </defs>
    <use xlink:href="#eff" opacity="1.5" style="mix-blend-mode:color-burn" />
</svg> -->

<div>
    <h1 style="justify-content: center; display: flex;">Selecciona el boton para marcar tu entrada o tu salida</h1>
    <br>
    <br>

    <div class="regisasis">

        {% if request.user.is_authenticated %}
        <a class="hero" href="{% url 'post' %}">Registra tu entrada o salida</a>
        <br>
        {% endif %}

    </div>
</div>

{% if user.is_superuser%}
<br>
<br><br><br>
<hr width=50% size=10 noshade="noshade">

<div class="regasis">
    <h1 style="justify-content: center; display: flex;">Aqui podras ver las entradas de todos y de tu equipo</h1>
</div>

<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Filtrar por departamentos.." title="Type in a name">
<article>
    <div>

        <div class="scroll_horizontal">
            <table id="myTable">

                <tr class="header">
                    <th style="width:20%;">Foto</th>
                    <th style="width:20%;">Departamento</th>
                    <th style="width:20%;">Usuario</th>
                    <th style="width:20%;">Descripcion</th>
                    <th style="width:50%;">Hora </th>
                </tr>
                {% for post in posts%}
                <tr>
                    <td>
                        <div class="container-article"><img src="{{ post.user.profile.image.url }}"></div>
                    </td>
                    <td>{{ post.user.information.departamento }}</td>
                    <td><a href="{% url 'profile' post.user.username %}">{{ post.user.username }}</a></td>
                    <td>{{ post.content }}</td>
                    <td><time style="color: #14344F;"> <strong> Tu hora de {{ post.content }} del d√≠a </strong>
                            {{ post.timestamp }}</time></td>

                </tr>
                {% endfor %}
            </table>
        </div>

    </div>
</article>

{% endif %}


<script>
    function myFunction() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[2];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }
</script>

<style>
    .scroll_horizontal {
        overflow-y: hidden;
        overflow-x: auto;
    }

    * {
        box-sizing: border-box;
    }

    #myInput {
        background-image: url('/css/searchicon.png');
        background-position: 10px 10px;
        background-repeat: no-repeat;
        width: 100%;
        font-size: 16px;
        padding: 12px 20px 12px 40px;
        border: 1px solid #ddd;
        margin-bottom: 12px;
    }

    #myTable {
        border-collapse: collapse;
        width: 100%;
        border: 1px solid #ddd;
        font-size: 18px;
    }

    #myTable th,
    #myTable td {
        text-align: left;
        padding: 12px;
    }

    #myTable tr {
        border-bottom: 1px solid #ddd;
    }

    #myTable tr.header,
    #myTable tr:hover {
        background-color: #f1f1f1;
    }
    svg {
        position: absolute;
        top: 50%;
        margin-top: -60px;
        left: 30%;
        margin-left: -225px;
    }

    /* @media (max-width:768px) {
        svg {
            font-size: 150px;
            position: absolute;
            top: 33%;
            margin-top: 15px;
            left: 28%;
            margin-left: -112px;
        }
    }

    @media (max-width:768px) {
        svg text {
            font-size: 110px;

        }
    } */
</style>



{% endblock %}
